{"ast":null,"code":"import React,{useEffect,useRef,useState}from'react';import{motion,AnimatePresence}from'framer-motion';import{Bell,Calendar,User,Phone,Mail,Clock,AlertCircle,CheckCircle,X}from'lucide-react';import API from'../utils/api';import dayjs from'dayjs';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function FollowUps(_ref){let{refreshTrigger,onDataChange}=_ref;const[followups,setFollowups]=useState([]);const[loading,setLoading]=useState(true);const[showNotification,setShowNotification]=useState(false);const[dueToday,setDueToday]=useState([]);const[completing,setCompleting]=useState(null);const[dismissedForToday,setDismissedForToday]=useState(false);const hasAutoShownRef=useRef(false);const loadFollowups=async function(){let mode=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'auto';let showSpinner=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(showSpinner)setLoading(true);try{const[allRes,pendingRes]=await Promise.all([API.get('/contacts/followups/all'),API.get('/contacts/followups/pending')]);setFollowups(allRes.data);setDueToday(pendingRes.data);// Auto-open notification only if:\n// - there are due items today\n// - not dismissed for today\n// - not already auto-shown in this session\n// - mode is 'auto' (not 'silent')\nif(mode==='auto'&&pendingRes.data.length>0&&!dismissedForToday&&!hasAutoShownRef.current){setShowNotification(true);hasAutoShownRef.current=true;}}catch(err){console.error('Error loading follow-ups:',err);}finally{if(showSpinner)setLoading(false);}};// Initialize dismissal state from localStorage on mount\nuseEffect(()=>{const key='followups_notice_dismissed_date';const todayStr=dayjs().format('YYYY-MM-DD');const stored=typeof window!=='undefined'?localStorage.getItem(key):null;setDismissedForToday(stored===todayStr);},[]);// Load followups when component mounts and when refreshTrigger changes.\n// On mount and interval: use 'auto' to allow a single automatic open.\n// On refreshTrigger updates (e.g., after saving): use 'silent' to avoid re-opening.\nuseEffect(()=>{loadFollowups('auto',true);// Check for new follow-ups every 5 minutes (auto mode) - set once on mount\nconst interval=setInterval(()=>loadFollowups('auto',false),5*60*1000);return()=>clearInterval(interval);},[]);useEffect(()=>{if(refreshTrigger!==undefined){loadFollowups('silent',false);}},[refreshTrigger]);const getUrgency=date=>{const today=dayjs().startOf('day');const followUpDate=dayjs(date).startOf('day');if(followUpDate.isBefore(today)){return'high';// Overdue\n}else if(followUpDate.isSame(today)){return'high';// Due today\n}else{const daysUntil=followUpDate.diff(today,'day');if(daysUntil<=3)return'medium';return'low';}};const getUrgencyStyles=urgency=>{switch(urgency){case'high':return'bg-gradient-to-r from-orange-50/70 to-red-50/50 border-orange-200';case'medium':return'bg-gradient-to-r from-yellow-50/70 to-amber-50/50 border-yellow-200';default:return'bg-gradient-to-r from-blue-50/70 to-cyan-50/50 border-blue-200';}};const getUrgencyBadgeStyles=urgency=>{switch(urgency){case'high':return'bg-orange-100/80 text-orange-700 border-orange-300';case'medium':return'bg-yellow-100/80 text-yellow-700 border-yellow-300';default:return'bg-blue-100/80 text-blue-700 border-blue-300';}};const getUrgencyIconColor=urgency=>{switch(urgency){case'high':return'text-orange-500';case'medium':return'text-yellow-500';default:return'text-blue-500';}};const handleComplete=async logId=>{setCompleting(logId);try{await API.patch(\"/contacts/followups/\".concat(logId,\"/complete\"));// Reload follow-ups from server to ensure consistency (silent to avoid popup)\nawait loadFollowups('silent',false);// Notify parent to refresh dashboard\nif(onDataChange){onDataChange();}}catch(err){console.error('Error completing follow-up:',err);alert('Failed to mark follow-up as complete');}finally{setCompleting(null);}};const closeNotificationForToday=()=>{setShowNotification(false);const key='followups_notice_dismissed_date';const todayStr=dayjs().format('YYYY-MM-DD');try{if(typeof window!=='undefined'){localStorage.setItem(key,todayStr);}}catch(_){}setDismissedForToday(true);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(AnimatePresence,{children:showNotification&&dueToday.length>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:closeNotificationForToday,className:\"fixed inset-0 bg-black/50 backdrop-blur-sm z-50\"}),/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,scale:0.9,y:-20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:0.9,y:-20},className:\"fixed top-20 left-1/2 -translate-x-1/2 z-50 max-w-md w-full mx-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-2xl border-2 border-purple-200 overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-purple-500 to-blue-500 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-2 rounded-lg shadow-md\",children:/*#__PURE__*/_jsx(Bell,{className:\"w-6 h-6 text-purple-600 animate-bounce\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-white\",children:\"Follow-up Reminders\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-purple-100\",children:[dueToday.length,\" contact\",dueToday.length>1?'s':'',\" need attention\"]})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:closeNotificationForToday,className:\"text-white hover:bg-white/20 p-2 rounded-lg transition-colors\",children:/*#__PURE__*/_jsx(X,{className:\"w-5 h-5\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"max-h-96 overflow-y-auto p-4 space-y-3\",children:dueToday.map(followup=>/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:\"bg-gradient-to-r from-purple-50/70 to-blue-50/50 border border-purple-200 rounded-lg p-3 hover:shadow-sm transition-all\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between gap-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-slate-900 text-sm\",children:followup.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 space-y-1 text-xs text-slate-600\",children:[followup.phone&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Phone,{className:\"w-3 h-3\"}),followup.phone]}),followup.email&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Mail,{className:\"w-3 h-3\"}),followup.email]})]}),followup.notes&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500 mt-2 italic bg-white/60 p-2 rounded\",children:[\"\\\"\",followup.notes,\"\\\"\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-end gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded-full font-medium shadow-sm\",children:dayjs(followup.follow_up_date).isBefore(dayjs(),'day')?'Overdue':'Today'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleComplete(followup.id),disabled:completing===followup.id,className:\"bg-emerald-500 hover:bg-emerald-600 text-white p-1.5 rounded-lg transition-colors disabled:opacity-50 shadow-sm\",title:\"Mark as complete\",children:completing===followup.id?/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-3 w-3 border-2 border-white border-t-transparent\"}):/*#__PURE__*/_jsx(CheckCircle,{className:\"w-3 h-3\"})})]})]})},followup.id))}),/*#__PURE__*/_jsx(\"div\",{className:\"p-4 bg-gradient-to-r from-purple-50 to-blue-50 border-t border-purple-200\",children:/*#__PURE__*/_jsx(\"button\",{onClick:closeNotificationForToday,className:\"w-full px-4 py-2 bg-gradient-to-r from-purple-500 to-blue-500 text-white rounded-lg hover:from-purple-600 hover:to-blue-600 transition-all font-medium shadow-md\",children:\"Got it!\"})})]})})]})}),/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:\"bg-white/90 backdrop-blur-sm rounded-xl shadow-md border border-purple-100 p-6 hover:shadow-lg transition-shadow duration-300\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-purple-500 to-blue-500 p-3 rounded-lg shadow-md relative\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"w-5 h-5 text-white\"}),dueToday.length>0&&/*#__PURE__*/_jsx(\"span\",{className:\"absolute -top-1 -right-1 bg-gradient-to-r from-red-400 to-pink-500 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center shadow-md\",children:dueToday.length})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-slate-900\",children:\"Follow-ups\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-purple-600\",children:[followups.length,\" scheduled\"]})]})]}),dueToday.length>0&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowNotification(true),className:\"px-3 py-2 bg-gradient-to-r from-purple-50 to-blue-50 text-purple-700 rounded-lg hover:from-purple-100 hover:to-blue-100 transition-all flex items-center gap-2 font-medium text-sm shadow-sm border border-purple-200\",children:[/*#__PURE__*/_jsx(Bell,{className:\"w-4 h-4\"}),dueToday.length,\" Due\"]})]}),loading?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-4 border-purple-500 border-t-transparent mx-auto\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-purple-600 mt-4 font-medium\",children:\"Loading follow-ups...\"})]}):followups.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"w-16 h-16 text-purple-200 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-500\",children:\"No follow-ups scheduled\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3 max-h-[65vh] overflow-y-auto pr-2\",children:followups.map((followup,index)=>{const urgency=getUrgency(followup.follow_up_date);return/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:index*0.05},className:\"border rounded-xl p-4 hover:shadow-md transition-all hover:scale-[1.01] \".concat(getUrgencyStyles(urgency)),whileHover:{y:-2},children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start gap-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-2\",children:[urgency==='high'&&/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"h-4 w-4 text-orange-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"absolute -top-1 -right-1 w-2 h-2 bg-red-400 rounded-full animate-pulse\"})]}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-gray-700\",children:followup.name}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs font-medium px-2.5 py-1 rounded-full border shadow-sm \".concat(getUrgencyBadgeStyles(urgency)),children:dayjs(followup.follow_up_date).isBefore(dayjs(),'day')?'Overdue':'Today'})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-sm mb-2\",children:followup.email}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1 text-xs text-gray-600\",children:[followup.phone&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Phone,{className:\"w-3 h-3\"}),followup.phone]}),followup.email&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Mail,{className:\"w-3 h-3\"}),followup.email]})]}),followup.notes&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500 mt-2 italic bg-white/60 p-2 rounded-lg\",children:[\"\\\"\",followup.notes,\"\\\"\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-end gap-2\",children:[/*#__PURE__*/_jsx(Clock,{className:\"h-5 w-5 \".concat(getUrgencyIconColor(urgency))}),/*#__PURE__*/_jsx(motion.button,{whileHover:{scale:1.05},whileTap:{scale:0.95},onClick:()=>handleComplete(followup.id),disabled:completing===followup.id,className:\"bg-emerald-500 hover:bg-emerald-600 text-white p-2 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed\",title:\"Mark as complete\",children:completing===followup.id?/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent\"}):/*#__PURE__*/_jsx(CheckCircle,{className:\"w-4 h-4\"})})]})]})},followup.id);})})]})]});}","map":{"version":3,"names":["React","useEffect","useRef","useState","motion","AnimatePresence","Bell","Calendar","User","Phone","Mail","Clock","AlertCircle","CheckCircle","X","API","dayjs","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","FollowUps","_ref","refreshTrigger","onDataChange","followups","setFollowups","loading","setLoading","showNotification","setShowNotification","dueToday","setDueToday","completing","setCompleting","dismissedForToday","setDismissedForToday","hasAutoShownRef","loadFollowups","mode","arguments","length","undefined","showSpinner","allRes","pendingRes","Promise","all","get","data","current","err","console","error","key","todayStr","format","stored","window","localStorage","getItem","interval","setInterval","clearInterval","getUrgency","date","today","startOf","followUpDate","isBefore","isSame","daysUntil","diff","getUrgencyStyles","urgency","getUrgencyBadgeStyles","getUrgencyIconColor","handleComplete","logId","patch","concat","alert","closeNotificationForToday","setItem","_","children","div","initial","opacity","animate","exit","onClick","className","scale","y","map","followup","x","name","phone","email","notes","follow_up_date","id","disabled","title","index","transition","delay","whileHover","button","whileTap"],"sources":["C:/Users/Sahithi/Desktop/JR Tracker/frontend/src/components/FollowUps.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { Bell, Calendar, User, Phone, Mail, Clock, AlertCircle, CheckCircle, X } from 'lucide-react';\nimport API from '../utils/api';\nimport dayjs from 'dayjs';\n\nexport default function FollowUps({ refreshTrigger, onDataChange }) {\n  const [followups, setFollowups] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showNotification, setShowNotification] = useState(false);\n  const [dueToday, setDueToday] = useState([]);\n  const [completing, setCompleting] = useState(null);\n  const [dismissedForToday, setDismissedForToday] = useState(false);\n  const hasAutoShownRef = useRef(false);\n\n  const loadFollowups = async (mode = 'auto', showSpinner = false) => {\n    if (showSpinner) setLoading(true);\n    try {\n      const [allRes, pendingRes] = await Promise.all([\n        API.get('/contacts/followups/all'),\n        API.get('/contacts/followups/pending')\n      ]);\n      \n      setFollowups(allRes.data);\n      setDueToday(pendingRes.data);\n      \n      // Auto-open notification only if:\n      // - there are due items today\n      // - not dismissed for today\n      // - not already auto-shown in this session\n      // - mode is 'auto' (not 'silent')\n      if (\n        mode === 'auto' &&\n        pendingRes.data.length > 0 &&\n        !dismissedForToday &&\n        !hasAutoShownRef.current\n      ) {\n        setShowNotification(true);\n        hasAutoShownRef.current = true;\n      }\n    } catch (err) {\n      console.error('Error loading follow-ups:', err);\n    } finally {\n      if (showSpinner) setLoading(false);\n    }\n  };\n\n  // Initialize dismissal state from localStorage on mount\n  useEffect(() => {\n    const key = 'followups_notice_dismissed_date';\n    const todayStr = dayjs().format('YYYY-MM-DD');\n    const stored = typeof window !== 'undefined' ? localStorage.getItem(key) : null;\n    setDismissedForToday(stored === todayStr);\n  }, []);\n\n  // Load followups when component mounts and when refreshTrigger changes.\n  // On mount and interval: use 'auto' to allow a single automatic open.\n  // On refreshTrigger updates (e.g., after saving): use 'silent' to avoid re-opening.\n  useEffect(() => {\n    loadFollowups('auto', true);\n\n    // Check for new follow-ups every 5 minutes (auto mode) - set once on mount\n    const interval = setInterval(() => loadFollowups('auto', false), 5 * 60 * 1000);\n    return () => clearInterval(interval);\n  }, []);\n\n  useEffect(() => {\n    if (refreshTrigger !== undefined) {\n      loadFollowups('silent', false);\n    }\n  }, [refreshTrigger]);\n\n  const getUrgency = (date) => {\n    const today = dayjs().startOf('day');\n    const followUpDate = dayjs(date).startOf('day');\n    \n    if (followUpDate.isBefore(today)) {\n      return 'high'; // Overdue\n    } else if (followUpDate.isSame(today)) {\n      return 'high'; // Due today\n    } else {\n      const daysUntil = followUpDate.diff(today, 'day');\n      if (daysUntil <= 3) return 'medium';\n      return 'low';\n    }\n  };\n\n  const getUrgencyStyles = (urgency) => {\n    switch (urgency) {\n      case 'high':\n        return 'bg-gradient-to-r from-orange-50/70 to-red-50/50 border-orange-200';\n      case 'medium':\n        return 'bg-gradient-to-r from-yellow-50/70 to-amber-50/50 border-yellow-200';\n      default:\n        return 'bg-gradient-to-r from-blue-50/70 to-cyan-50/50 border-blue-200';\n    }\n  };\n\n  const getUrgencyBadgeStyles = (urgency) => {\n    switch (urgency) {\n      case 'high':\n        return 'bg-orange-100/80 text-orange-700 border-orange-300';\n      case 'medium':\n        return 'bg-yellow-100/80 text-yellow-700 border-yellow-300';\n      default:\n        return 'bg-blue-100/80 text-blue-700 border-blue-300';\n    }\n  };\n\n  const getUrgencyIconColor = (urgency) => {\n    switch (urgency) {\n      case 'high':\n        return 'text-orange-500';\n      case 'medium':\n        return 'text-yellow-500';\n      default:\n        return 'text-blue-500';\n    }\n  };\n\n  const handleComplete = async (logId) => {\n    setCompleting(logId);\n    try {\n      await API.patch(`/contacts/followups/${logId}/complete`);\n      \n      // Reload follow-ups from server to ensure consistency (silent to avoid popup)\n      await loadFollowups('silent', false);\n      \n      // Notify parent to refresh dashboard\n      if (onDataChange) {\n        onDataChange();\n      }\n    } catch (err) {\n      console.error('Error completing follow-up:', err);\n      alert('Failed to mark follow-up as complete');\n    } finally {\n      setCompleting(null);\n    }\n  };\n\n  const closeNotificationForToday = () => {\n    setShowNotification(false);\n    const key = 'followups_notice_dismissed_date';\n    const todayStr = dayjs().format('YYYY-MM-DD');\n    try {\n      if (typeof window !== 'undefined') {\n        localStorage.setItem(key, todayStr);\n      }\n    } catch (_) {}\n    setDismissedForToday(true);\n  };\n\n  return (\n    <>\n      {/* Notification Popup for Due Today */}\n      <AnimatePresence>\n        {showNotification && dueToday.length > 0 && (\n          <>\n            <motion.div\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              exit={{ opacity: 0 }}\n              onClick={closeNotificationForToday}\n              className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-50\"\n            />\n            <motion.div\n              initial={{ opacity: 0, scale: 0.9, y: -20 }}\n              animate={{ opacity: 1, scale: 1, y: 0 }}\n              exit={{ opacity: 0, scale: 0.9, y: -20 }}\n              className=\"fixed top-20 left-1/2 -translate-x-1/2 z-50 max-w-md w-full mx-4\"\n            >\n              <div className=\"bg-white rounded-2xl shadow-2xl border-2 border-purple-200 overflow-hidden\">\n                <div className=\"bg-gradient-to-r from-purple-500 to-blue-500 p-4\">\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center gap-3\">\n                      <div className=\"bg-white p-2 rounded-lg shadow-md\">\n                        <Bell className=\"w-6 h-6 text-purple-600 animate-bounce\" />\n                      </div>\n                      <div>\n                        <h3 className=\"text-xl font-bold text-white\">Follow-up Reminders</h3>\n                        <p className=\"text-sm text-purple-100\">{dueToday.length} contact{dueToday.length > 1 ? 's' : ''} need attention</p>\n                      </div>\n                    </div>\n                    <button\n                      onClick={closeNotificationForToday}\n                      className=\"text-white hover:bg-white/20 p-2 rounded-lg transition-colors\"\n                    >\n                      <X className=\"w-5 h-5\" />\n                    </button>\n                  </div>\n                </div>\n\n                <div className=\"max-h-96 overflow-y-auto p-4 space-y-3\">\n                  {dueToday.map((followup) => (\n                    <motion.div\n                      key={followup.id}\n                      initial={{ opacity: 0, x: -10 }}\n                      animate={{ opacity: 1, x: 0 }}\n                      className=\"bg-gradient-to-r from-purple-50/70 to-blue-50/50 border border-purple-200 rounded-lg p-3 hover:shadow-sm transition-all\"\n                    >\n                      <div className=\"flex items-start justify-between gap-3\">\n                        <div className=\"flex-1\">\n                          <h4 className=\"font-semibold text-slate-900 text-sm\">{followup.name}</h4>\n                          <div className=\"mt-2 space-y-1 text-xs text-slate-600\">\n                            {followup.phone && (\n                              <div className=\"flex items-center gap-2\">\n                                <Phone className=\"w-3 h-3\" />\n                                {followup.phone}\n                              </div>\n                            )}\n                            {followup.email && (\n                              <div className=\"flex items-center gap-2\">\n                                <Mail className=\"w-3 h-3\" />\n                                {followup.email}\n                              </div>\n                            )}\n                          </div>\n                          {followup.notes && (\n                            <p className=\"text-xs text-gray-500 mt-2 italic bg-white/60 p-2 rounded\">\"{followup.notes}\"</p>\n                          )}\n                        </div>\n                        <div className=\"flex flex-col items-end gap-2\">\n                          <span className=\"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded-full font-medium shadow-sm\">\n                            {dayjs(followup.follow_up_date).isBefore(dayjs(), 'day') ? 'Overdue' : 'Today'}\n                          </span>\n                          <button\n                            onClick={() => handleComplete(followup.id)}\n                            disabled={completing === followup.id}\n                            className=\"bg-emerald-500 hover:bg-emerald-600 text-white p-1.5 rounded-lg transition-colors disabled:opacity-50 shadow-sm\"\n                            title=\"Mark as complete\"\n                          >\n                            {completing === followup.id ? (\n                              <div className=\"animate-spin rounded-full h-3 w-3 border-2 border-white border-t-transparent\"></div>\n                            ) : (\n                              <CheckCircle className=\"w-3 h-3\" />\n                            )}\n                          </button>\n                        </div>\n                      </div>\n                    </motion.div>\n                  ))}\n                </div>\n\n                <div className=\"p-4 bg-gradient-to-r from-purple-50 to-blue-50 border-t border-purple-200\">\n                  <button\n                    onClick={closeNotificationForToday}\n                    className=\"w-full px-4 py-2 bg-gradient-to-r from-purple-500 to-blue-500 text-white rounded-lg hover:from-purple-600 hover:to-blue-600 transition-all font-medium shadow-md\"\n                  >\n                    Got it!\n                  </button>\n                </div>\n              </div>\n            </motion.div>\n          </>\n        )}\n      </AnimatePresence>\n\n      {/* Main Follow-ups List */}\n      <motion.div\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        className=\"bg-white/90 backdrop-blur-sm rounded-xl shadow-md border border-purple-100 p-6 hover:shadow-lg transition-shadow duration-300\"\n      >\n        <div className=\"flex items-center justify-between mb-6\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"bg-gradient-to-br from-purple-500 to-blue-500 p-3 rounded-lg shadow-md relative\">\n              <Calendar className=\"w-5 h-5 text-white\" />\n              {dueToday.length > 0 && (\n                <span className=\"absolute -top-1 -right-1 bg-gradient-to-r from-red-400 to-pink-500 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center shadow-md\">\n                  {dueToday.length}\n                </span>\n              )}\n            </div>\n            <div>\n              <h2 className=\"text-xl font-bold text-slate-900\">Follow-ups</h2>\n              <p className=\"text-xs text-purple-600\">{followups.length} scheduled</p>\n            </div>\n          </div>\n          {dueToday.length > 0 && (\n            <button\n              onClick={() => setShowNotification(true)}\n              className=\"px-3 py-2 bg-gradient-to-r from-purple-50 to-blue-50 text-purple-700 rounded-lg hover:from-purple-100 hover:to-blue-100 transition-all flex items-center gap-2 font-medium text-sm shadow-sm border border-purple-200\"\n            >\n              <Bell className=\"w-4 h-4\" />\n              {dueToday.length} Due\n            </button>\n          )}\n        </div>\n\n        {loading ? (\n          <div className=\"text-center py-12\">\n            <div className=\"animate-spin rounded-full h-12 w-12 border-4 border-purple-500 border-t-transparent mx-auto\"></div>\n            <p className=\"text-purple-600 mt-4 font-medium\">Loading follow-ups...</p>\n          </div>\n        ) : followups.length === 0 ? (\n          <div className=\"text-center py-12\">\n            <Calendar className=\"w-16 h-16 text-purple-200 mx-auto mb-4\" />\n            <p className=\"text-slate-500\">No follow-ups scheduled</p>\n          </div>\n        ) : (\n          <div className=\"space-y-3 max-h-[65vh] overflow-y-auto pr-2\">\n            {followups.map((followup, index) => {\n              const urgency = getUrgency(followup.follow_up_date);\n              return (\n                <motion.div\n                  key={followup.id}\n                  initial={{ opacity: 0, y: 10 }}\n                  animate={{ opacity: 1, y: 0 }}\n                  transition={{ delay: index * 0.05 }}\n                  className={`border rounded-xl p-4 hover:shadow-md transition-all hover:scale-[1.01] ${getUrgencyStyles(urgency)}`}\n                  whileHover={{ y: -2 }}\n                >\n                  <div className=\"flex justify-between items-start gap-3\">\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center gap-2 mb-2\">\n                        {urgency === 'high' && (\n                          <div className=\"relative\">\n                            <AlertCircle className=\"h-4 w-4 text-orange-500\" />\n                            <span className=\"absolute -top-1 -right-1 w-2 h-2 bg-red-400 rounded-full animate-pulse\"></span>\n                          </div>\n                        )}\n                        <span className=\"font-semibold text-gray-700\">{followup.name}</span>\n                        <span className={`text-xs font-medium px-2.5 py-1 rounded-full border shadow-sm ${getUrgencyBadgeStyles(urgency)}`}>\n                          {dayjs(followup.follow_up_date).isBefore(dayjs(), 'day') ? 'Overdue' : 'Today'}\n                        </span>\n                      </div>\n\n                      <p className=\"text-gray-500 text-sm mb-2\">{followup.email}</p>\n\n                      <div className=\"space-y-1 text-xs text-gray-600\">\n                        {followup.phone && (\n                          <div className=\"flex items-center gap-2\">\n                            <Phone className=\"w-3 h-3\" />\n                            {followup.phone}\n                          </div>\n                        )}\n                        {followup.email && (\n                          <div className=\"flex items-center gap-2\">\n                            <Mail className=\"w-3 h-3\" />\n                            {followup.email}\n                          </div>\n                        )}\n                      </div>\n\n                      {followup.notes && (\n                        <p className=\"text-xs text-gray-500 mt-2 italic bg-white/60 p-2 rounded-lg\">\"{followup.notes}\"</p>\n                      )}\n                    </div>\n\n                    <div className=\"flex flex-col items-end gap-2\">\n                      <Clock className={`h-5 w-5 ${getUrgencyIconColor(urgency)}`} />\n                      <motion.button\n                        whileHover={{ scale: 1.05 }}\n                        whileTap={{ scale: 0.95 }}\n                        onClick={() => handleComplete(followup.id)}\n                        disabled={completing === followup.id}\n                        className=\"bg-emerald-500 hover:bg-emerald-600 text-white p-2 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n                        title=\"Mark as complete\"\n                      >\n                        {completing === followup.id ? (\n                          <div className=\"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent\"></div>\n                        ) : (\n                          <CheckCircle className=\"w-4 h-4\" />\n                        )}\n                      </motion.button>\n                    </div>\n                  </div>\n                </motion.div>\n              );\n            })}\n          </div>\n        )}\n      </motion.div>\n    </>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}